(()=>{"use strict";var e,r={430:()=>{const e=window.wp.blocks,r=window.wp.blockEditor,o=window.wp.components,t=window.wp.i18n,i=window.wp.data,a=window.wp.primitives,n=window.ReactJSXRuntime,l=(0,n.jsx)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,n.jsx)(a.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z"})}),c=(0,n.jsxs)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,n.jsx)(a.Path,{d:"m7 6.5 4 2.5-4 2.5z"}),(0,n.jsx)(a.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"m5 3c-1.10457 0-2 .89543-2 2v14c0 1.1046.89543 2 2 2h14c1.1046 0 2-.8954 2-2v-14c0-1.10457-.8954-2-2-2zm14 1.5h-14c-.27614 0-.5.22386-.5.5v10.7072l3.62953-2.6465c.25108-.1831.58905-.1924.84981-.0234l2.92666 1.8969 3.5712-3.4719c.2911-.2831.7545-.2831 1.0456 0l2.9772 2.8945v-9.3568c0-.27614-.2239-.5-.5-.5zm-14.5 14.5v-1.4364l4.09643-2.987 2.99567 1.9417c.2936.1903.6798.1523.9307-.0917l3.4772-3.3806 3.4772 3.3806.0228-.0234v2.5968c0 .2761-.2239.5-.5.5h-14c-.27614 0-.5-.2239-.5-.5z"})]});(0,e.registerBlockType)("buntywp/categories-grid",{edit:function({attributes:e,setAttributes:a}){const{catsPerRow:s,productCategories:d}=e,p=(0,r.useBlockProps)({style:{"--categories-per-row":s}}),u=(0,i.useSelect)((e=>{const{getEntityRecords:r}=e("core");return r("taxonomy","product_cat",{per_page:99,hide_empty:!0,fields:"id=>name"})}),[]),g=(d||[]).map((e=>e.id)),m=u?u.map((e=>({label:e.name,value:String(e.id)}))):[];return(0,n.jsxs)("div",{...p,children:[(0,n.jsxs)(r.InspectorControls,{children:[(0,n.jsx)(o.PanelBody,{title:(0,t.__)("Carousel Settings","product-categories-grid-block"),children:(0,n.jsx)(o.RangeControl,{__nextHasNoMarginBottom:!0,label:(0,t.__)("Categories per row","product-categories-grid-block"),value:s,onChange:e=>a({catsPerRow:e}),min:1,max:6,__next40pxDefaultSize:!0})}),(0,n.jsx)(o.PanelBody,{title:(0,t.__)("Select Categories","product-categories-grid-block"),initialOpen:!1,children:d?(0,n.jsx)(o.SelectControl,{multiple:!0,__next40pxDefaultSize:!0,label:(0,t.__)("Choose categories to show","product-categories-grid-block"),value:g,options:m,onChange:e=>{(e=>{const r=e.map((e=>{const r=m.find((r=>parseInt(r.value)===parseInt(e)))?.label||"";return{id:e,name:r}}));a({productCategories:r})})(Array.isArray(e)?e.map(Number):[Number(e)])}}):(0,n.jsx)("p",{children:(0,t.__)("Loading categories &hellip;","product-categories-grid-block")})})]}),(0,n.jsx)("div",{className:"wc-categories-wrapper",children:d.length?d.map(((e,t)=>(0,n.jsxs)("div",{className:"category-slide",style:{backgroundImage:e.imageUrl?`url(${e.imageUrl})`:void 0,backgroundSize:"cover",backgroundPosition:"center"},children:[(0,n.jsx)(r.MediaUpload,{onSelect:e=>{if(e&&e.url){const r=[...d];r[t]={...r[t],imageUrl:e.url},a({productCategories:r})}},allowedTypes:["image"],type:"image",render:({open:r})=>(0,n.jsx)("div",{className:"bwp-action-button-container",children:e.imageUrl?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.Button,{className:"bwp-remove-button",onClick:()=>{const e=[...d];e[t]={...e[t],imageUrl:""},a({productCategories:e})},variant:"primary",icon:l}),(0,n.jsx)(o.Button,{className:"bwp-upload-button",onClick:r,variant:"primary",icon:c})]}):(0,n.jsx)(o.Button,{className:"bwp-upload-button",onClick:r,variant:"primary",icon:c})})}),(0,n.jsx)("h4",{children:e.name})]},t))):(0,n.jsx)("p",{children:(0,t.__)("Please select category &hellip;","product-categories-grid-block")})})]})},save:function(){return null}})}},o={};function t(e){var i=o[e];if(void 0!==i)return i.exports;var a=o[e]={exports:{}};return r[e](a,a.exports,t),a.exports}t.m=r,e=[],t.O=(r,o,i,a)=>{if(!o){var n=1/0;for(d=0;d<e.length;d++){for(var[o,i,a]=e[d],l=!0,c=0;c<o.length;c++)(!1&a||n>=a)&&Object.keys(t.O).every((e=>t.O[e](o[c])))?o.splice(c--,1):(l=!1,a<n&&(n=a));if(l){e.splice(d--,1);var s=i();void 0!==s&&(r=s)}}return r}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[o,i,a]},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{var e={689:0,237:0};t.O.j=r=>0===e[r];var r=(r,o)=>{var i,a,[n,l,c]=o,s=0;if(n.some((r=>0!==e[r]))){for(i in l)t.o(l,i)&&(t.m[i]=l[i]);if(c)var d=c(t)}for(r&&r(o);s<n.length;s++)a=n[s],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return t.O(d)},o=globalThis.webpackChunkproduct_categories_grid_block=globalThis.webpackChunkproduct_categories_grid_block||[];o.forEach(r.bind(null,0)),o.push=r.bind(null,o.push.bind(o))})();var i=t.O(void 0,[237],(()=>t(430)));i=t.O(i)})();
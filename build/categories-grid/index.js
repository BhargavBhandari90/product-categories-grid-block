(()=>{"use strict";var e,o={430:()=>{const e=window.wp.blocks,o=window.wp.blockEditor,r=window.wp.components,t=window.wp.i18n,i=window.wp.data,a=window.wp.primitives,n=window.ReactJSXRuntime,l=(0,n.jsx)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,n.jsx)(a.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z"})}),s=(0,n.jsxs)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,n.jsx)(a.Path,{d:"m7 6.5 4 2.5-4 2.5z"}),(0,n.jsx)(a.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"m5 3c-1.10457 0-2 .89543-2 2v14c0 1.1046.89543 2 2 2h14c1.1046 0 2-.8954 2-2v-14c0-1.10457-.8954-2-2-2zm14 1.5h-14c-.27614 0-.5.22386-.5.5v10.7072l3.62953-2.6465c.25108-.1831.58905-.1924.84981-.0234l2.92666 1.8969 3.5712-3.4719c.2911-.2831.7545-.2831 1.0456 0l2.9772 2.8945v-9.3568c0-.27614-.2239-.5-.5-.5zm-14.5 14.5v-1.4364l4.09643-2.987 2.99567 1.9417c.2936.1903.6798.1523.9307-.0917l3.4772-3.3806 3.4772 3.3806.0228-.0234v2.5968c0 .2761-.2239.5-.5.5h-14c-.27614 0-.5-.2239-.5-.5z"})]});(0,e.registerBlockType)("buntywp/categories-grid",{edit:function({attributes:e,setAttributes:a}){const{catsPerRow:c,productCategories:d}=e,p=(0,o.useBlockProps)({style:{"--categories-per-row":c}}),g=(0,i.useSelect)((e=>{const{getEntityRecords:o}=e("core");return o("taxonomy","product_cat",{per_page:99,hide_empty:!0,fields:"id=>name"})}),[]),u=(d||[]).map((e=>e.id)),w=g?g.map((e=>({label:e.name,value:String(e.id)}))):[];return(0,n.jsxs)("div",{...p,children:[(0,n.jsxs)(o.InspectorControls,{children:[(0,n.jsx)(r.PanelBody,{title:(0,t.__)("Carousel Settings","woo-categories-grid"),children:(0,n.jsx)(r.RangeControl,{__nextHasNoMarginBottom:!0,label:(0,t.__)("Categories per row","woo-categories-grid"),value:c,onChange:e=>a({catsPerRow:e}),min:1,max:6,__next40pxDefaultSize:!0})}),(0,n.jsx)(r.PanelBody,{title:(0,t.__)("Select Categories","woo-categories-grid"),initialOpen:!1,children:d?(0,n.jsx)(r.SelectControl,{multiple:!0,__next40pxDefaultSize:!0,label:(0,t.__)("Choose categories to show","woo-categories-grid"),value:u,options:w,onChange:e=>{(e=>{const o=e.map((e=>{const o=w.find((o=>parseInt(o.value)===parseInt(e)))?.label||"";return{id:e,name:o}}));a({productCategories:o})})(Array.isArray(e)?e.map(Number):[Number(e)])}}):(0,n.jsx)("p",{children:(0,t.__)("Loading categories &hellip;","woo-categories-grid")})})]}),(0,n.jsx)("div",{className:"wc-categories-wrapper",children:d.length?d.map(((e,t)=>(0,n.jsxs)("div",{className:"category-slide",style:{backgroundImage:e.imageUrl?`url(${e.imageUrl})`:void 0,backgroundSize:"cover",backgroundPosition:"center"},children:[(0,n.jsx)(o.MediaUpload,{onSelect:e=>{if(e&&e.url){const o=[...d];o[t]={...o[t],imageUrl:e.url},a({productCategories:o})}},allowedTypes:["image"],type:"image",render:({open:o})=>(0,n.jsx)("div",{className:"bwp-action-button-container",children:e.imageUrl?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.Button,{className:"bwp-remove-button",onClick:()=>{const e=[...d];e[t]={...e[t],imageUrl:""},a({productCategories:e})},variant:"primary",icon:l}),(0,n.jsx)(r.Button,{className:"bwp-upload-button",onClick:o,variant:"primary",icon:s})]}):(0,n.jsx)(r.Button,{className:"bwp-upload-button",onClick:o,variant:"primary",icon:s})})}),(0,n.jsx)("h4",{children:e.name})]},t))):(0,n.jsx)("p",{children:(0,t.__)("Please select category &hellip;","woo-categories-grid")})})]})},save:function(){return null}})}},r={};function t(e){var i=r[e];if(void 0!==i)return i.exports;var a=r[e]={exports:{}};return o[e](a,a.exports,t),a.exports}t.m=o,e=[],t.O=(o,r,i,a)=>{if(!r){var n=1/0;for(d=0;d<e.length;d++){for(var[r,i,a]=e[d],l=!0,s=0;s<r.length;s++)(!1&a||n>=a)&&Object.keys(t.O).every((e=>t.O[e](r[s])))?r.splice(s--,1):(l=!1,a<n&&(n=a));if(l){e.splice(d--,1);var c=i();void 0!==c&&(o=c)}}return o}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[r,i,a]},t.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={689:0,237:0};t.O.j=o=>0===e[o];var o=(o,r)=>{var i,a,[n,l,s]=r,c=0;if(n.some((o=>0!==e[o]))){for(i in l)t.o(l,i)&&(t.m[i]=l[i]);if(s)var d=s(t)}for(o&&o(r);c<n.length;c++)a=n[c],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return t.O(d)},r=globalThis.webpackChunkwoo_categories_grid_block=globalThis.webpackChunkwoo_categories_grid_block||[];r.forEach(o.bind(null,0)),r.push=o.bind(null,r.push.bind(r))})();var i=t.O(void 0,[237],(()=>t(430)));i=t.O(i)})();
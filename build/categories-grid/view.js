import*as t from"@wordpress/interactivity";var e={424:(e,o,r)=>{const a=(c={getContext:()=>t.getContext,store:()=>t.store},s={},r.d(s,c),s);var c,s;(0,a.store)("buntywp/categories-grid",{state:()=>({selectedCategory:null,selectedCategoryName:null,loading:!1,showProducts:!1}),actions:{async loadProducts(t){const e=(0,a.getContext)(),o=t.target.closest("[data-wp-interactive]"),r=(0,a.store)("buntywp/categories-grid").state,c=t.target.closest(".category-slide"),s=c?.dataset.categoryId,n=c?.dataset.categoryName,i=o.querySelector(".products-grid"),d=i?.dataset.cat;if(e.showProducts=!0,e.selectedCategory=s,e.selectedCategoryName=n,d!==s){e.loading=!0,i.innerHTML="";try{const t=await fetch(r.ajaxUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"buntywp_pcgb_get_category_products",nonce:r.nonce,category_id:s})}),e=await t.json();console.log("data",e),e.success&&(i.innerHTML=e.data.products.map((t=>`\n\t\t\t\t\t\t\t<div class="product-card">\n\t\t\t\t\t\t\t\t<img src="${t.image}" alt="${t.title}" />\n\t\t\t\t\t\t\t\t<h3>${t.title}</h3>\n\t\t\t\t\t\t\t\t<div class="price">${t.price}</div>\n\t\t\t\t\t\t\t\t<a href="${t.link}" class="view-product">View Product</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t`)).join(""),o.querySelectorAll(".bwp-category-link a").forEach((t=>t.setAttribute("href",e.data.category_link))))}catch(t){console.error("Fetch error:",t)}finally{e.loading=!1}}},closeModal(){(0,a.getContext)().showProducts=!1}},callbacks:{watchCategories(){window.addEventListener("keydown",(t=>{"Escape"===t.key&&(0,a.store)("buntywp/categories-grid").actions.closeModal()}))}}})}},o={};function r(t){var a=o[t];if(void 0!==a)return a.exports;var c=o[t]={exports:{}};return e[t](c,c.exports,r),c.exports}r.d=(t,e)=>{for(var o in e)r.o(e,o)&&!r.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r(424);
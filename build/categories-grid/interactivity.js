import*as e from"@wordpress/interactivity";var t={d:(e,a)=>{for(var o in a)t.o(a,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:a[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const a=(o={store:()=>e.store},r={},t.d(r,o),r);var o,r;(0,a.store)("buntywp/categories-grid",{state:{selectedCategory:null,selectedCategoryName:null,loading:!1,showProducts:!1},actions:{async loadProducts(e){const t=(0,a.store)("buntywp/categories-grid").state,o=e.target.closest(".category-slide").dataset.categoryId,r=e.target.closest(".category-slide").dataset.categoryName,c=document.querySelector(".products-grid"),s=c.dataset.cat;if(t.showProducts=!0,t.selectedCategory=o,t.selectedCategoryName=r,s!==o){t.loading=!0,c.innerHTML="";try{const e=await fetch(t.ajaxUrl,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"wcc_get_category_products",nonce:t.nonce,category_id:o})}),a=await e.json();a.success&&(c.innerHTML=a.data.products.map((e=>`\n                        <div class="product-card">\n                            <img src="${e.image}" alt="${e.title}" />\n                            <h3>${e.title}</h3>\n                            <div class="price">${e.price}</div>\n                            <a href="${e.link}" class="view-product">View Product</a>\n                        </div>\n                    `)).join(""),document.querySelectorAll(".bwp-category-link a").forEach((e=>{e.setAttribute("href",a.data.category_link)})))}catch(e){return!1}finally{t.loading=!1}}},closeModal(){(0,a.store)("buntywp/categories-grid").state.showProducts=!1}},callbacks:{watchCategories(){window.addEventListener("keydown",(e=>{"Escape"===e.key&&(0,a.store)("buntywp/categories-grid").actions.closeModal()}))}}});